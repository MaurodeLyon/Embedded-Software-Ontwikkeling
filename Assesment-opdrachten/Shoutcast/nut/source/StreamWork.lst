GAS LISTING C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s 			page 1


   1               		.file	"StreamWork.c"
   2               		.arch atmega2561
   3               	__SREG__ = 0x3f
   4               	__SP_H__ = 0x3e
   5               	__SP_L__ = 0x3d
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               	.global	stopStream
  12               		.type	stopStream, @function
  13               	stopStream:
  14               	/* prologue: frame size=0 */
  15               	/* prologue end (size=0) */
  16 0000 81E0      		ldi r24,lo8(1)
  17 0002 90E0      		ldi r25,hi8(1)
  18 0004 9093 0000 		sts (stopAlarm)+1,r25
  19 0008 8093 0000 		sts stopAlarm,r24
  20               	/* epilogue: frame size=0 */
  21 000c 0895      		ret
  22               	/* epilogue end (size=1) */
  23               	/* function stopStream size 7 (6) */
  24               		.size	stopStream, .-stopStream
  25               		.data
  26               	.LC0:
  27 0000 4572 726F 		.string	"Error: Metadata too large, %u blocks\n"
  27      723A 204D 
  27      6574 6164 
  27      6174 6120 
  27      746F 6F20 
  28               	.LC1:
  29 0026 0A4D 6574 		.string	"\nMeta='%s'\n"
  29      613D 2725 
  29      7327 0A00 
  30               	.LC2:
  31 0032 2700      		.string	"'"
  32               	.LC3:
  33 0034 0A74 6573 		.string	"\ntest1:%s\n"
  33      7431 3A25 
  33      730A 00
  34               	.LC4:
  35 003f 0A74 6573 		.string	"\ntest2:%s\n"
  35      7432 3A25 
  35      730A 00
  36               		.text
  37               	.global	ProcessMetaData
  38               		.type	ProcessMetaData, @function
  39               	ProcessMetaData:
  40               	/* prologue: frame size=1 */
  41 000e AF92      		push r10
  42 0010 BF92      		push r11
  43 0012 CF92      		push r12
  44 0014 DF92      		push r13
  45 0016 EF92      		push r14
  46 0018 FF92      		push r15
  47 001a 0F93      		push r16
GAS LISTING C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s 			page 2


  48 001c 1F93      		push r17
  49 001e CF93      		push r28
  50 0020 DF93      		push r29
  51 0022 CDB7      		in r28,__SP_L__
  52 0024 DEB7      		in r29,__SP_H__
  53 0026 2197      		sbiw r28,1
  54 0028 0FB6      		in __tmp_reg__,__SREG__
  55 002a F894      		cli
  56 002c DEBF      		out __SP_H__,r29
  57 002e 0FBE      		out __SREG__,__tmp_reg__
  58 0030 CDBF      		out __SP_L__,r28
  59               	/* prologue end (size=18) */
  60 0032 5C01      		movw r10,r24
  61 0034 1982      		std Y+1,__zero_reg__
  62 0036 9C01      		movw r18,r24
  63 0038 41E0      		ldi r20,lo8(1)
  64 003a 50E0      		ldi r21,hi8(1)
  65 003c 61E0      		ldi r22,lo8(1)
  66 003e 70E0      		ldi r23,hi8(1)
  67 0040 CE01      		movw r24,r28
  68 0042 0196      		adiw r24,1
  69 0044 0E94 0000 		call fread
  70 0048 0197      		sbiw r24,1
  71 004a 01F0      		breq .+2
  72 004c 00C0      		rjmp .L4
  73 004e 2981      		ldd r18,Y+1
  74 0050 2223      		tst r18
  75 0052 01F4      		brne .L6
  76 0054 80E0      		ldi r24,lo8(0)
  77 0056 90E0      		ldi r25,hi8(0)
  78 0058 00C0      		rjmp .L8
  79               	.L6:
  80 005a 422F      		mov r20,r18
  81 005c 5527      		clr r21
  82 005e 2132      		cpi r18,lo8(33)
  83 0060 00F0      		brlo .L9
  84 0062 5F93      		push r21
  85 0064 4F93      		push r20
  86 0066 80E0      		ldi r24,lo8(.LC0)
  87 0068 90E0      		ldi r25,hi8(.LC0)
  88 006a 9F93      		push r25
  89 006c 8F93      		push r24
  90 006e 0E94 0000 		call printf
  91 0072 8FEF      		ldi r24,lo8(-1)
  92 0074 9FEF      		ldi r25,hi8(-1)
  93 0076 0F90      		pop __tmp_reg__
  94 0078 0F90      		pop __tmp_reg__
  95 007a 0F90      		pop __tmp_reg__
  96 007c 0F90      		pop __tmp_reg__
  97 007e 00C0      		rjmp .L8
  98               	.L9:
  99 0080 8A01      		movw r16,r20
 100 0082 84E0      		ldi r24,4
 101 0084 000F      	1:	lsl r16
 102 0086 111F      		rol r17
 103 0088 8A95      		dec r24
 104 008a 01F4      		brne 1b
GAS LISTING C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s 			page 3


 105 008c C801      		movw r24,r16
 106 008e 0196      		adiw r24,1
 107 0090 0E94 0000 		call malloc
 108 0094 7C01      		movw r14,r24
 109 0096 892B      		or r24,r25
 110 0098 01F4      		brne .+2
 111 009a 00C0      		rjmp .L4
 112 009c CC24      		clr r12
 113 009e DD24      		clr r13
 114               	.L12:
 115 00a0 9501      		movw r18,r10
 116 00a2 A801      		movw r20,r16
 117 00a4 61E0      		ldi r22,lo8(1)
 118 00a6 70E0      		ldi r23,hi8(1)
 119 00a8 C701      		movw r24,r14
 120 00aa 8C0D      		add r24,r12
 121 00ac 9D1D      		adc r25,r13
 122 00ae 0E94 0000 		call fread
 123 00b2 1816      		cp __zero_reg__,r24
 124 00b4 1906      		cpc __zero_reg__,r25
 125 00b6 04F0      		brlt .+2
 126 00b8 00C0      		rjmp .L4
 127 00ba 081B      		sub r16,r24
 128 00bc 190B      		sbc r17,r25
 129 00be 01F0      		breq .L14
 130 00c0 C80E      		add r12,r24
 131 00c2 D91E      		adc r13,r25
 132 00c4 F701      		movw r30,r14
 133 00c6 EC0D      		add r30,r12
 134 00c8 FD1D      		adc r31,r13
 135 00ca 1082      		st Z,__zero_reg__
 136 00cc 00C0      		rjmp .L12
 137               	.L14:
 138 00ce FF92      		push r15
 139 00d0 EF92      		push r14
 140 00d2 80E0      		ldi r24,lo8(.LC1)
 141 00d4 90E0      		ldi r25,hi8(.LC1)
 142 00d6 9F93      		push r25
 143 00d8 8F93      		push r24
 144 00da 0E94 0000 		call printf
 145 00de 40E0      		ldi r20,lo8(last.3299)
 146 00e0 50E0      		ldi r21,hi8(last.3299)
 147 00e2 60E0      		ldi r22,lo8(.LC2)
 148 00e4 70E0      		ldi r23,hi8(.LC2)
 149 00e6 C701      		movw r24,r14
 150 00e8 0E94 0000 		call strtok_r
 151 00ec 9F93      		push r25
 152 00ee 8F93      		push r24
 153 00f0 80E0      		ldi r24,lo8(.LC3)
 154 00f2 90E0      		ldi r25,hi8(.LC3)
 155 00f4 9F93      		push r25
 156 00f6 8F93      		push r24
 157 00f8 0E94 0000 		call printf
 158 00fc 8091 0000 		lds r24,last.3299
 159 0100 9091 0000 		lds r25,(last.3299)+1
 160 0104 9F93      		push r25
 161 0106 8F93      		push r24
GAS LISTING C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s 			page 4


 162 0108 80E0      		ldi r24,lo8(.LC4)
 163 010a 90E0      		ldi r25,hi8(.LC4)
 164 010c 9F93      		push r25
 165 010e 8F93      		push r24
 166 0110 0E94 0000 		call printf
 167 0114 8091 0000 		lds r24,last.3299
 168 0118 9091 0000 		lds r25,(last.3299)+1
 169 011c 0E94 0000 		call printString
 170 0120 81E0      		ldi r24,lo8(1)
 171 0122 90E0      		ldi r25,hi8(1)
 172 0124 0E94 0000 		call setBackLight
 173 0128 C701      		movw r24,r14
 174 012a 0E94 0000 		call free
 175 012e 80E0      		ldi r24,lo8(0)
 176 0130 90E0      		ldi r25,hi8(0)
 177 0132 2DB7      		in r18,__SP_L__
 178 0134 3EB7      		in r19,__SP_H__
 179 0136 245F      		subi r18,lo8(-(12))
 180 0138 3F4F      		sbci r19,hi8(-(12))
 181 013a 0FB6      		in __tmp_reg__,__SREG__
 182 013c F894      		cli
 183 013e 3EBF      		out __SP_H__,r19
 184 0140 0FBE      		out __SREG__,__tmp_reg__
 185 0142 2DBF      		out __SP_L__,r18
 186 0144 00C0      		rjmp .L8
 187               	.L4:
 188 0146 8FEF      		ldi r24,lo8(-1)
 189 0148 9FEF      		ldi r25,hi8(-1)
 190               	.L8:
 191               	/* epilogue: frame size=1 */
 192 014a 2196      		adiw r28,1
 193 014c 0FB6      		in __tmp_reg__,__SREG__
 194 014e F894      		cli
 195 0150 DEBF      		out __SP_H__,r29
 196 0152 0FBE      		out __SREG__,__tmp_reg__
 197 0154 CDBF      		out __SP_L__,r28
 198 0156 DF91      		pop r29
 199 0158 CF91      		pop r28
 200 015a 1F91      		pop r17
 201 015c 0F91      		pop r16
 202 015e FF90      		pop r15
 203 0160 EF90      		pop r14
 204 0162 DF90      		pop r13
 205 0164 CF90      		pop r12
 206 0166 BF90      		pop r11
 207 0168 AF90      		pop r10
 208 016a 0895      		ret
 209               	/* epilogue end (size=17) */
 210               	/* function ProcessMetaData size 178 (143) */
 211               		.size	ProcessMetaData, .-ProcessMetaData
 212               		.data
 213               	.LC5:
 214 004a 4572 726F 		.string	"Error: MP3 buffer init failed"
 214      723A 204D 
 214      5033 2062 
 214      7566 6665 
 214      7220 696E 
GAS LISTING C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s 			page 5


 215               	.LC6:
 216 0068 4572 726F 		.string	"Error: MP3 hardware init failed"
 216      723A 204D 
 216      5033 2068 
 216      6172 6477 
 216      6172 6520 
 217               	.LC7:
 218 0088 4B69 636B 		.string	"Kick player"
 218      2070 6C61 
 218      7965 7200 
 219               	.LC8:
 220 0094 256C 7520 		.string	"%lu buffered\n"
 220      6275 6666 
 220      6572 6564 
 220      0A00 
 221               		.text
 222               	.global	PlayMp3Stream
 223               		.type	PlayMp3Stream, @function
 224               	PlayMp3Stream:
 225               	/* prologue: frame size=6 */
 226 016c 2F92      		push r2
 227 016e 3F92      		push r3
 228 0170 4F92      		push r4
 229 0172 5F92      		push r5
 230 0174 6F92      		push r6
 231 0176 7F92      		push r7
 232 0178 8F92      		push r8
 233 017a 9F92      		push r9
 234 017c AF92      		push r10
 235 017e BF92      		push r11
 236 0180 CF92      		push r12
 237 0182 DF92      		push r13
 238 0184 EF92      		push r14
 239 0186 FF92      		push r15
 240 0188 1F93      		push r17
 241 018a CF93      		push r28
 242 018c DF93      		push r29
 243 018e CDB7      		in r28,__SP_L__
 244 0190 DEB7      		in r29,__SP_H__
 245 0192 2697      		sbiw r28,6
 246 0194 0FB6      		in __tmp_reg__,__SREG__
 247 0196 F894      		cli
 248 0198 DEBF      		out __SP_H__,r29
 249 019a 0FBE      		out __SREG__,__tmp_reg__
 250 019c CDBF      		out __SP_L__,r28
 251               	/* prologue end (size=25) */
 252 019e 1C01      		movw r2,r24
 253 01a0 3A01      		movw r6,r20
 254 01a2 4B01      		movw r8,r22
 255 01a4 80E0      		ldi r24,lo8(8192)
 256 01a6 90E2      		ldi r25,hi8(8192)
 257 01a8 0E94 0000 		call NutSegBufInit
 258 01ac 892B      		or r24,r25
 259 01ae 01F4      		brne .L18
 260 01b0 80E0      		ldi r24,lo8(.LC5)
 261 01b2 90E0      		ldi r25,hi8(.LC5)
 262 01b4 00C0      		rjmp .L46
GAS LISTING C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s 			page 6


 263               	.L18:
 264 01b6 0E94 0000 		call VsPlayerInit
 265 01ba 892B      		or r24,r25
 266 01bc 01F4      		brne .L21
 267 01be 80E0      		ldi r24,lo8(0)
 268 01c0 90E0      		ldi r25,hi8(0)
 269 01c2 0E94 0000 		call VsPlayerReset
 270 01c6 892B      		or r24,r25
 271 01c8 01F0      		breq .L23
 272               	.L21:
 273 01ca 80E0      		ldi r24,lo8(.LC6)
 274 01cc 90E0      		ldi r25,hi8(.LC6)
 275               	.L46:
 276 01ce 0E94 0000 		call puts
 277 01d2 00C0      		rjmp .L45
 278               	.L23:
 279 01d4 80E0      		ldi r24,lo8(0)
 280 01d6 0E94 0000 		call VsPlayerInterrupts
 281 01da 182F      		mov r17,r24
 282 01dc 0E94 0000 		call NutSegBufReset
 283 01e0 812F      		mov r24,r17
 284 01e2 0E94 0000 		call VsPlayerInterrupts
 285 01e6 0E94 0000 		call NutGetSeconds
 286 01ea 6B83      		std Y+3,r22
 287 01ec 7C83      		std Y+4,r23
 288 01ee 8D83      		std Y+5,r24
 289 01f0 9E83      		std Y+6,r25
 290 01f2 6401      		movw r12,r8
 291 01f4 5301      		movw r10,r6
 292 01f6 EE24      		clr r14
 293 01f8 FF24      		clr r15
 294 01fa 00C0      		rjmp .L24
 295               	.L25:
 296 01fc 80E0      		ldi r24,lo8(0)
 297 01fe 0E94 0000 		call VsPlayerInterrupts
 298 0202 182F      		mov r17,r24
 299 0204 CE01      		movw r24,r28
 300 0206 0196      		adiw r24,1
 301 0208 0E94 0000 		call NutSegBufWriteRequest
 302 020c 2C01      		movw r4,r24
 303 020e 812F      		mov r24,r17
 304 0210 0E94 0000 		call VsPlayerInterrupts
 305 0214 0E94 0000 		call VsGetStatus
 306 0218 8130      		cpi r24,lo8(1)
 307 021a 01F0      		breq .L26
 308 021c 8981      		ldd r24,Y+1
 309 021e 9A81      		ldd r25,Y+2
 310 0220 8050      		subi r24,lo8(1024)
 311 0222 9440      		sbci r25,hi8(1024)
 312 0224 00F0      		brlo .L28
 313 0226 0E94 0000 		call NutGetSeconds
 314 022a 2B81      		ldd r18,Y+3
 315 022c 3C81      		ldd r19,Y+4
 316 022e 4D81      		ldd r20,Y+5
 317 0230 5E81      		ldd r21,Y+6
 318 0232 621B      		sub r22,r18
 319 0234 730B      		sbc r23,r19
GAS LISTING C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s 			page 7


 320 0236 840B      		sbc r24,r20
 321 0238 950B      		sbc r25,r21
 322 023a 6530      		cpi r22,lo8(5)
 323 023c 7105      		cpc r23,__zero_reg__
 324 023e 8105      		cpc r24,__zero_reg__
 325 0240 9105      		cpc r25,__zero_reg__
 326 0242 00F0      		brlo .L26
 327               	.L28:
 328 0244 0E94 0000 		call NutGetSeconds
 329 0248 6B83      		std Y+3,r22
 330 024a 7C83      		std Y+4,r23
 331 024c 8D83      		std Y+5,r24
 332 024e 9E83      		std Y+6,r25
 333 0250 80E0      		ldi r24,lo8(.LC7)
 334 0252 90E0      		ldi r25,hi8(.LC7)
 335 0254 0E94 0000 		call puts
 336 0258 0E94 0000 		call VsPlayerKick
 337               	.L26:
 338 025c 6114      		cp r6,__zero_reg__
 339 025e 7104      		cpc r7,__zero_reg__
 340 0260 8104      		cpc r8,__zero_reg__
 341 0262 9104      		cpc r9,__zero_reg__
 342 0264 01F0      		breq .L30
 343 0266 8981      		ldd r24,Y+1
 344 0268 9A81      		ldd r25,Y+2
 345 026a AA27      		clr r26
 346 026c BB27      		clr r27
 347 026e A816      		cp r10,r24
 348 0270 B906      		cpc r11,r25
 349 0272 CA06      		cpc r12,r26
 350 0274 DB06      		cpc r13,r27
 351 0276 00F4      		brsh .L30
 352 0278 BA82      		std Y+2,r11
 353 027a A982      		std Y+1,r10
 354               	.L30:
 355 027c F201      		movw r30,r4
 356 027e 00C0      		rjmp .L33
 357               	.L34:
 358 0280 9101      		movw r18,r2
 359 0282 61E0      		ldi r22,lo8(1)
 360 0284 70E0      		ldi r23,hi8(1)
 361 0286 CF01      		movw r24,r30
 362 0288 0E94 0000 		call fread
 363 028c 7C01      		movw r14,r24
 364 028e 892B      		or r24,r25
 365 0290 01F4      		brne .+2
 366 0292 00C0      		rjmp .L45
 367 0294 80E0      		ldi r24,lo8(0)
 368 0296 0E94 0000 		call VsPlayerInterrupts
 369 029a 182F      		mov r17,r24
 370 029c C701      		movw r24,r14
 371 029e 0E94 0000 		call NutSegBufWriteCommit
 372 02a2 2C01      		movw r4,r24
 373 02a4 812F      		mov r24,r17
 374 02a6 0E94 0000 		call VsPlayerInterrupts
 375 02aa 6114      		cp r6,__zero_reg__
 376 02ac 7104      		cpc r7,__zero_reg__
GAS LISTING C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s 			page 8


 377 02ae 8104      		cpc r8,__zero_reg__
 378 02b0 9104      		cpc r9,__zero_reg__
 379 02b2 01F0      		breq .L36
 380 02b4 C701      		movw r24,r14
 381 02b6 AA27      		clr r26
 382 02b8 BB27      		clr r27
 383 02ba A81A      		sub r10,r24
 384 02bc B90A      		sbc r11,r25
 385 02be CA0A      		sbc r12,r26
 386 02c0 DB0A      		sbc r13,r27
 387 02c2 01F4      		brne .L36
 388 02c4 C101      		movw r24,r2
 389 02c6 0E94 0000 		call ProcessMetaData
 390 02ca 6401      		movw r12,r8
 391 02cc 5301      		movw r10,r6
 392               	.L36:
 393 02ce 8981      		ldd r24,Y+1
 394 02d0 9A81      		ldd r25,Y+2
 395 02d2 E816      		cp r14,r24
 396 02d4 F906      		cpc r15,r25
 397 02d6 00F4      		brsh .L39
 398 02d8 30E0      		ldi r19,lo8(512)
 399 02da E316      		cp r14,r19
 400 02dc 32E0      		ldi r19,hi8(512)
 401 02de F306      		cpc r15,r19
 402 02e0 00F4      		brsh .L39
 403 02e2 0E94 0000 		call NutSegBufUsed
 404 02e6 9F93      		push r25
 405 02e8 8F93      		push r24
 406 02ea 7F93      		push r23
 407 02ec 6F93      		push r22
 408 02ee 80E0      		ldi r24,lo8(.LC8)
 409 02f0 90E0      		ldi r25,hi8(.LC8)
 410 02f2 9F93      		push r25
 411 02f4 8F93      		push r24
 412 02f6 0E94 0000 		call printf
 413 02fa 6AEF      		ldi r22,lo8(250)
 414 02fc 70E0      		ldi r23,hi8(250)
 415 02fe 80E0      		ldi r24,hlo8(250)
 416 0300 90E0      		ldi r25,hhi8(250)
 417 0302 0E94 0000 		call NutSleep
 418 0306 4DB7      		in r20,__SP_L__
 419 0308 5EB7      		in r21,__SP_H__
 420 030a 4A5F      		subi r20,lo8(-(6))
 421 030c 5F4F      		sbci r21,hi8(-(6))
 422 030e 0FB6      		in __tmp_reg__,__SREG__
 423 0310 F894      		cli
 424 0312 5EBF      		out __SP_H__,r21
 425 0314 0FBE      		out __SREG__,__tmp_reg__
 426 0316 4DBF      		out __SP_L__,r20
 427 0318 00C0      		rjmp .L42
 428               	.L39:
 429 031a 0E94 0000 		call NutThreadYield
 430               	.L42:
 431 031e F201      		movw r30,r4
 432 0320 8981      		ldd r24,Y+1
 433 0322 9A81      		ldd r25,Y+2
GAS LISTING C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s 			page 9


 434 0324 8E19      		sub r24,r14
 435 0326 9F09      		sbc r25,r15
 436 0328 9A83      		std Y+2,r25
 437 032a 8983      		std Y+1,r24
 438               	.L33:
 439 032c 4981      		ldd r20,Y+1
 440 032e 5A81      		ldd r21,Y+2
 441 0330 4115      		cp r20,__zero_reg__
 442 0332 5105      		cpc r21,__zero_reg__
 443 0334 01F0      		breq .L43
 444 0336 8091 0000 		lds r24,stopAlarm
 445 033a 9091 0000 		lds r25,(stopAlarm)+1
 446 033e 892B      		or r24,r25
 447 0340 01F4      		brne .+2
 448 0342 00C0      		rjmp .L34
 449               	.L43:
 450 0344 E114      		cp r14,__zero_reg__
 451 0346 F104      		cpc r15,__zero_reg__
 452 0348 01F0      		breq .L45
 453               	.L24:
 454 034a 8091 0000 		lds r24,stopAlarm
 455 034e 9091 0000 		lds r25,(stopAlarm)+1
 456 0352 892B      		or r24,r25
 457 0354 01F4      		brne .+2
 458 0356 00C0      		rjmp .L25
 459               	.L45:
 460               	/* epilogue: frame size=6 */
 461 0358 2696      		adiw r28,6
 462 035a 0FB6      		in __tmp_reg__,__SREG__
 463 035c F894      		cli
 464 035e DEBF      		out __SP_H__,r29
 465 0360 0FBE      		out __SREG__,__tmp_reg__
 466 0362 CDBF      		out __SP_L__,r28
 467 0364 DF91      		pop r29
 468 0366 CF91      		pop r28
 469 0368 1F91      		pop r17
 470 036a FF90      		pop r15
 471 036c EF90      		pop r14
 472 036e DF90      		pop r13
 473 0370 CF90      		pop r12
 474 0372 BF90      		pop r11
 475 0374 AF90      		pop r10
 476 0376 9F90      		pop r9
 477 0378 8F90      		pop r8
 478 037a 7F90      		pop r7
 479 037c 6F90      		pop r6
 480 037e 5F90      		pop r5
 481 0380 4F90      		pop r4
 482 0382 3F90      		pop r3
 483 0384 2F90      		pop r2
 484 0386 0895      		ret
 485               	/* epilogue end (size=24) */
 486               	/* function PlayMp3Stream size 275 (226) */
 487               		.size	PlayMp3Stream, .-PlayMp3Stream
 488               		.data
 489               	.LC9:
 490 00a2 436F 6E6E 		.string	"Connecting %s:%u..."
GAS LISTING C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s 			page 10


 490      6563 7469 
 490      6E67 2025 
 490      733A 2575 
 490      2E2E 2E00 
 491               	.LC10:
 492 00b6 4572 726F 		.string	"Error: Connect failed with %d\n"
 492      723A 2043 
 492      6F6E 6E65 
 492      6374 2066 
 492      6169 6C65 
 493               	.LC11:
 494 00d5 4F4B 00   		.string	"OK"
 495               	.LC12:
 496 00d8 722B 6200 		.string	"r+b"
 497               	.LC13:
 498 00dc 4572 726F 		.string	"Error: Can't create stream"
 498      723A 2043 
 498      616E 2774 
 498      2063 7265 
 498      6174 6520 
 499               	.LC14:
 500 00f7 2F33 666D 		.string	"/3fm-bb-mp3"
 500      2D62 622D 
 500      6D70 3300 
 501               	.LC15:
 502 0103 4745 5420 		.string	"GET %s HTTP/1.0\n\n"
 502      2573 2048 
 502      5454 502F 
 502      312E 300A 
 502      0A00 
 503               	.LC16:
 504 0115 4745 5420 		.string	"GET %s HTTP/1.0\r\n"
 504      2573 2048 
 504      5454 502F 
 504      312E 300D 
 504      0A00 
 505               	.LC17:
 506 0127 486F 7374 		.string	"Host: %s\r\n"
 506      3A20 2573 
 506      0D0A 00
 507               	.LC18:
 508 0132 5573 6572 		.string	"User-Agent: Ethernut\r\n"
 508      2D41 6765 
 508      6E74 3A20 
 508      4574 6865 
 508      726E 7574 
 509               	.LC19:
 510 0149 4163 6365 		.string	"Accept: */*\r\n"
 510      7074 3A20 
 510      2A2F 2A0D 
 510      0A00 
 511               	.LC20:
 512 0157 4963 792D 		.string	"Icy-MetaData: 1\r\n"
 512      4D65 7461 
 512      4461 7461 
 512      3A20 310D 
 512      0A00 
GAS LISTING C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s 			page 11


 513               	.LC21:
 514 0169 436F 6E6E 		.string	"Connection: close\r\n"
 514      6563 7469 
 514      6F6E 3A20 
 514      636C 6F73 
 514      650D 0A00 
 515               	.LC22:
 516 017d 0D0A 00   		.string	"\r\n"
 517               	.LC23:
 518 0180 5761 726E 		.string	"Warning: Input buffer overflow"
 518      696E 673A 
 518      2049 6E70 
 518      7574 2062 
 518      7566 6665 
 519               	.LC24:
 520 019f 6963 792D 		.string	"icy-metaint:"
 520      6D65 7461 
 520      696E 743A 
 520      00
 521               		.text
 522               	.global	ConnectStation
 523               		.type	ConnectStation, @function
 524               	ConnectStation:
 525               	/* prologue: frame size=0 */
 526 0388 8F92      		push r8
 527 038a 9F92      		push r9
 528 038c AF92      		push r10
 529 038e BF92      		push r11
 530 0390 CF92      		push r12
 531 0392 DF92      		push r13
 532 0394 EF92      		push r14
 533 0396 FF92      		push r15
 534 0398 0F93      		push r16
 535 039a 1F93      		push r17
 536 039c CF93      		push r28
 537 039e DF93      		push r29
 538               	/* prologue end (size=12) */
 539 03a0 EC01      		movw r28,r24
 540 03a2 5A01      		movw r10,r20
 541 03a4 6B01      		movw r12,r22
 542 03a6 7901      		movw r14,r18
 543 03a8 4801      		movw r8,r16
 544 03aa CB01      		movw r24,r22
 545 03ac BA01      		movw r22,r20
 546 03ae 0E94 0000 		call inet_ntoa
 547 03b2 FF92      		push r15
 548 03b4 EF92      		push r14
 549 03b6 9F93      		push r25
 550 03b8 8F93      		push r24
 551 03ba 80E0      		ldi r24,lo8(.LC9)
 552 03bc 90E0      		ldi r25,hi8(.LC9)
 553 03be 9F93      		push r25
 554 03c0 8F93      		push r24
 555 03c2 0E94 0000 		call printf
 556 03c6 9701      		movw r18,r14
 557 03c8 B601      		movw r22,r12
 558 03ca A501      		movw r20,r10
GAS LISTING C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s 			page 12


 559 03cc CE01      		movw r24,r28
 560 03ce 0E94 0000 		call NutTcpConnect
 561 03d2 2DB7      		in r18,__SP_L__
 562 03d4 3EB7      		in r19,__SP_H__
 563 03d6 2A5F      		subi r18,lo8(-(6))
 564 03d8 3F4F      		sbci r19,hi8(-(6))
 565 03da 0FB6      		in __tmp_reg__,__SREG__
 566 03dc F894      		cli
 567 03de 3EBF      		out __SP_H__,r19
 568 03e0 0FBE      		out __SREG__,__tmp_reg__
 569 03e2 2DBF      		out __SP_L__,r18
 570 03e4 892B      		or r24,r25
 571 03e6 01F0      		breq .L48
 572 03e8 CE01      		movw r24,r28
 573 03ea 0E94 0000 		call NutTcpError
 574 03ee 9F93      		push r25
 575 03f0 8F93      		push r24
 576 03f2 80E0      		ldi r24,lo8(.LC10)
 577 03f4 90E0      		ldi r25,hi8(.LC10)
 578 03f6 9F93      		push r25
 579 03f8 8F93      		push r24
 580 03fa 0E94 0000 		call printf
 581 03fe CE01      		movw r24,r28
 582 0400 0E94 0000 		call NutTcpCloseSocket
 583 0404 EE24      		clr r14
 584 0406 FF24      		clr r15
 585 0408 0F90      		pop __tmp_reg__
 586 040a 0F90      		pop __tmp_reg__
 587 040c 0F90      		pop __tmp_reg__
 588 040e 0F90      		pop __tmp_reg__
 589 0410 00C0      		rjmp .L50
 590               	.L48:
 591 0412 80E0      		ldi r24,lo8(.LC11)
 592 0414 90E0      		ldi r25,hi8(.LC11)
 593 0416 0E94 0000 		call puts
 594 041a 60E0      		ldi r22,lo8(.LC12)
 595 041c 70E0      		ldi r23,hi8(.LC12)
 596 041e CE01      		movw r24,r28
 597 0420 0E94 0000 		call _fdopen
 598 0424 7C01      		movw r14,r24
 599 0426 892B      		or r24,r25
 600 0428 01F4      		brne .L51
 601 042a 80E0      		ldi r24,lo8(.LC13)
 602 042c 90E0      		ldi r25,hi8(.LC13)
 603 042e 0E94 0000 		call puts
 604 0432 00C0      		rjmp .L50
 605               	.L51:
 606 0434 00E0      		ldi r16,lo8(.LC14)
 607 0436 10E0      		ldi r17,hi8(.LC14)
 608 0438 1F93      		push r17
 609 043a 0F93      		push r16
 610 043c 80E0      		ldi r24,lo8(.LC15)
 611 043e 90E0      		ldi r25,hi8(.LC15)
 612 0440 9F93      		push r25
 613 0442 8F93      		push r24
 614 0444 0E94 0000 		call printf
 615 0448 1F93      		push r17
GAS LISTING C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s 			page 13


 616 044a 0F93      		push r16
 617 044c 80E0      		ldi r24,lo8(.LC16)
 618 044e 90E0      		ldi r25,hi8(.LC16)
 619 0450 9F93      		push r25
 620 0452 8F93      		push r24
 621 0454 FF92      		push r15
 622 0456 EF92      		push r14
 623 0458 0E94 0000 		call fprintf
 624 045c C601      		movw r24,r12
 625 045e B501      		movw r22,r10
 626 0460 0E94 0000 		call inet_ntoa
 627 0464 9F93      		push r25
 628 0466 8F93      		push r24
 629 0468 80E0      		ldi r24,lo8(.LC17)
 630 046a 90E0      		ldi r25,hi8(.LC17)
 631 046c 9F93      		push r25
 632 046e 8F93      		push r24
 633 0470 FF92      		push r15
 634 0472 EF92      		push r14
 635 0474 0E94 0000 		call fprintf
 636 0478 B701      		movw r22,r14
 637 047a 80E0      		ldi r24,lo8(.LC18)
 638 047c 90E0      		ldi r25,hi8(.LC18)
 639 047e 0E94 0000 		call fputs
 640 0482 B701      		movw r22,r14
 641 0484 80E0      		ldi r24,lo8(.LC19)
 642 0486 90E0      		ldi r25,hi8(.LC19)
 643 0488 0E94 0000 		call fputs
 644 048c B701      		movw r22,r14
 645 048e 80E0      		ldi r24,lo8(.LC20)
 646 0490 90E0      		ldi r25,hi8(.LC20)
 647 0492 0E94 0000 		call fputs
 648 0496 B701      		movw r22,r14
 649 0498 80E0      		ldi r24,lo8(.LC21)
 650 049a 90E0      		ldi r25,hi8(.LC21)
 651 049c 0E94 0000 		call fputs
 652 04a0 B701      		movw r22,r14
 653 04a2 80E0      		ldi r24,lo8(.LC22)
 654 04a4 90E0      		ldi r25,hi8(.LC22)
 655 04a6 0E94 0000 		call fputs
 656 04aa C701      		movw r24,r14
 657 04ac 0E94 0000 		call fflush
 658 04b0 80E0      		ldi r24,lo8(512)
 659 04b2 92E0      		ldi r25,hi8(512)
 660 04b4 0E94 0000 		call malloc
 661 04b8 EC01      		movw r28,r24
 662 04ba 8DB7      		in r24,__SP_L__
 663 04bc 9EB7      		in r25,__SP_H__
 664 04be 4096      		adiw r24,16
 665 04c0 0FB6      		in __tmp_reg__,__SREG__
 666 04c2 F894      		cli
 667 04c4 9EBF      		out __SP_H__,r25
 668 04c6 0FBE      		out __SREG__,__tmp_reg__
 669 04c8 8DBF      		out __SP_L__,r24
 670 04ca 00C0      		rjmp .L66
 671               	.L54:
 672 04cc 6DE0      		ldi r22,lo8(13)
GAS LISTING C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s 			page 14


 673 04ce 70E0      		ldi r23,hi8(13)
 674 04d0 CE01      		movw r24,r28
 675 04d2 0E94 0000 		call strchr
 676 04d6 FC01      		movw r30,r24
 677 04d8 892B      		or r24,r25
 678 04da 01F4      		brne .L55
 679 04dc 80E0      		ldi r24,lo8(.LC23)
 680 04de 90E0      		ldi r25,hi8(.LC23)
 681 04e0 00C0      		rjmp .L67
 682               	.L55:
 683 04e2 1082      		st Z,__zero_reg__
 684 04e4 8881      		ld r24,Y
 685 04e6 8823      		tst r24
 686 04e8 01F0      		breq .L57
 687 04ea 4CE0      		ldi r20,lo8(12)
 688 04ec 50E0      		ldi r21,hi8(12)
 689 04ee 60E0      		ldi r22,lo8(.LC24)
 690 04f0 70E0      		ldi r23,hi8(.LC24)
 691 04f2 CE01      		movw r24,r28
 692 04f4 0E94 0000 		call strncmp
 693 04f8 892B      		or r24,r25
 694 04fa 01F4      		brne .L59
 695 04fc CE01      		movw r24,r28
 696 04fe 0C96      		adiw r24,12
 697 0500 0E94 0000 		call atol
 698 0504 F401      		movw r30,r8
 699 0506 6083      		st Z,r22
 700 0508 7183      		std Z+1,r23
 701 050a 8283      		std Z+2,r24
 702 050c 9383      		std Z+3,r25
 703               	.L59:
 704 050e CE01      		movw r24,r28
 705               	.L67:
 706 0510 0E94 0000 		call puts
 707               	.L66:
 708 0514 A701      		movw r20,r14
 709 0516 60E0      		ldi r22,lo8(512)
 710 0518 72E0      		ldi r23,hi8(512)
 711 051a CE01      		movw r24,r28
 712 051c 0E94 0000 		call fgets
 713 0520 892B      		or r24,r25
 714 0522 01F4      		brne .L54
 715               	.L57:
 716 0524 8AE0      		ldi r24,lo8(10)
 717 0526 90E0      		ldi r25,hi8(10)
 718 0528 0E94 0000 		call putchar
 719 052c CE01      		movw r24,r28
 720 052e 0E94 0000 		call free
 721               	.L50:
 722 0532 C701      		movw r24,r14
 723               	/* epilogue: frame size=0 */
 724 0534 DF91      		pop r29
 725 0536 CF91      		pop r28
 726 0538 1F91      		pop r17
 727 053a 0F91      		pop r16
 728 053c FF90      		pop r15
 729 053e EF90      		pop r14
GAS LISTING C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s 			page 15


 730 0540 DF90      		pop r13
 731 0542 CF90      		pop r12
 732 0544 BF90      		pop r11
 733 0546 AF90      		pop r10
 734 0548 9F90      		pop r9
 735 054a 8F90      		pop r8
 736 054c 0895      		ret
 737               	/* epilogue end (size=13) */
 738               	/* function ConnectStation size 227 (202) */
 739               		.size	ConnectStation, .-ConnectStation
 740               		.data
 741               	.LC25:
 742 01ac 436F 6E66 		.string	"Configure %s..."
 742      6967 7572 
 742      6520 2573 
 742      2E2E 2E00 
 743               	.LC26:
 744 01bc 6861 7264 		.string	"hard coded MAC..."
 744      2063 6F64 
 744      6564 204D 
 744      4143 2E2E 
 744      2E00 
 745               	.LC27:
 746 01ce 3139 322E 		.string	"192.168.192.100"
 746      3136 382E 
 746      3139 322E 
 746      3130 3000 
 747               	.LC28:
 748 01de 3235 352E 		.string	"255.255.255.0"
 748      3235 352E 
 748      3235 352E 
 748      3000 
 749               	.LC29:
 750 01ec 3139 322E 		.string	"192.168.192.122"
 750      3136 382E 
 750      3139 322E 
 750      3132 3200 
 751               	.LC30:
 752 01fc 6861 7264 		.string	"hard coded IP..."
 752      2063 6F64 
 752      6564 2049 
 752      502E 2E2E 
 752      00
 753               	.LC31:
 754 020d 4572 726F 		.string	"Error: No LAN device"
 754      723A 204E 
 754      6F20 4C41 
 754      4E20 6465 
 754      7669 6365 
 755               	.LC32:
 756 0222 6861 7264 		.string	"hard coded gate..."
 756      2063 6F64 
 756      6564 2067 
 756      6174 652E 
 756      2E2E 00
 757               	.LC33:
 758 0235 4572 726F 		.string	"Error: Can't set gateway"
GAS LISTING C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s 			page 16


 758      723A 2043 
 758      616E 2774 
 758      2073 6574 
 758      2067 6174 
 759               	.LC34:
 760 024e 4D41 4320 		.string	"MAC : %02X-%02X-%02X-%02X-%02X-%02X\n"
 760      3A20 2530 
 760      3258 2D25 
 760      3032 582D 
 760      2530 3258 
 761               	.LC35:
 762 0273 4950 2020 		.string	"IP  : %s\n"
 762      3A20 2573 
 762      0A00 
 763               	.LC36:
 764 027d 4D61 736B 		.string	"Mask: %s\n"
 764      3A20 2573 
 764      0A00 
 765               	.LC37:
 766 0287 4761 7465 		.string	"Gate: %s\n\n"
 766      3A20 2573 
 766      0A0A 00
 767               		.text
 768               	.global	ConfigureLan
 769               		.type	ConfigureLan, @function
 770               	ConfigureLan:
 771               	/* prologue: frame size=6 */
 772 054e 2F92      		push r2
 773 0550 3F92      		push r3
 774 0552 4F92      		push r4
 775 0554 5F92      		push r5
 776 0556 6F92      		push r6
 777 0558 7F92      		push r7
 778 055a 8F92      		push r8
 779 055c 9F92      		push r9
 780 055e AF92      		push r10
 781 0560 BF92      		push r11
 782 0562 CF92      		push r12
 783 0564 DF92      		push r13
 784 0566 EF92      		push r14
 785 0568 FF92      		push r15
 786 056a 0F93      		push r16
 787 056c 1F93      		push r17
 788 056e CF93      		push r28
 789 0570 DF93      		push r29
 790 0572 CDB7      		in r28,__SP_L__
 791 0574 DEB7      		in r29,__SP_H__
 792 0576 2697      		sbiw r28,6
 793 0578 0FB6      		in __tmp_reg__,__SREG__
 794 057a F894      		cli
 795 057c DEBF      		out __SP_H__,r29
 796 057e 0FBE      		out __SREG__,__tmp_reg__
 797 0580 CDBF      		out __SP_L__,r28
 798               	/* prologue end (size=26) */
 799 0582 2C01      		movw r4,r24
 800 0584 9F93      		push r25
 801 0586 8F93      		push r24
GAS LISTING C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s 			page 17


 802 0588 80E0      		ldi r24,lo8(.LC25)
 803 058a 90E0      		ldi r25,hi8(.LC25)
 804 058c 9F93      		push r25
 805 058e 8F93      		push r24
 806 0590 0E94 0000 		call printf
 807 0594 20E6      		ldi r18,lo8(60000)
 808 0596 3AEE      		ldi r19,hi8(60000)
 809 0598 40E0      		ldi r20,hlo8(60000)
 810 059a 50E0      		ldi r21,hhi8(60000)
 811 059c 60E0      		ldi r22,lo8(0)
 812 059e 70E0      		ldi r23,hi8(0)
 813 05a0 C201      		movw r24,r4
 814 05a2 0E94 0000 		call NutDhcpIfConfig
 815 05a6 0F90      		pop __tmp_reg__
 816 05a8 0F90      		pop __tmp_reg__
 817 05aa 0F90      		pop __tmp_reg__
 818 05ac 0F90      		pop __tmp_reg__
 819 05ae 892B      		or r24,r25
 820 05b0 01F4      		brne .+2
 821 05b2 00C0      		rjmp .L69
 822 05b4 DE01      		movw r26,r28
 823 05b6 1196      		adiw r26,1
 824 05b8 E0E0      		ldi r30,lo8(C.0.3237)
 825 05ba F0E0      		ldi r31,hi8(C.0.3237)
 826 05bc 86E0      		ldi r24,lo8(6)
 827               	.L71:
 828 05be 0190      		ld r0,Z+
 829 05c0 0D92      		st X+,r0
 830 05c2 8150      		subi r24,lo8(-(-1))
 831 05c4 01F4      		brne .L71
 832 05c6 80E0      		ldi r24,lo8(.LC26)
 833 05c8 90E0      		ldi r25,hi8(.LC26)
 834 05ca 9F93      		push r25
 835 05cc 8F93      		push r24
 836 05ce 0E94 0000 		call printf
 837 05d2 20E6      		ldi r18,lo8(60000)
 838 05d4 3AEE      		ldi r19,hi8(60000)
 839 05d6 40E0      		ldi r20,hlo8(60000)
 840 05d8 50E0      		ldi r21,hhi8(60000)
 841 05da 1E01      		movw r2,r28
 842 05dc 0894      		sec
 843 05de 211C      		adc r2,__zero_reg__
 844 05e0 311C      		adc r3,__zero_reg__
 845 05e2 B101      		movw r22,r2
 846 05e4 C201      		movw r24,r4
 847 05e6 0E94 0000 		call NutDhcpIfConfig
 848 05ea 0F90      		pop __tmp_reg__
 849 05ec 0F90      		pop __tmp_reg__
 850 05ee 892B      		or r24,r25
 851 05f0 01F4      		brne .+2
 852 05f2 00C0      		rjmp .L69
 853 05f4 80E0      		ldi r24,lo8(.LC27)
 854 05f6 90E0      		ldi r25,hi8(.LC27)
 855 05f8 0E94 0000 		call inet_addr
 856 05fc 5B01      		movw r10,r22
 857 05fe 6C01      		movw r12,r24
 858 0600 80E0      		ldi r24,lo8(.LC28)
GAS LISTING C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s 			page 18


 859 0602 90E0      		ldi r25,hi8(.LC28)
 860 0604 0E94 0000 		call inet_addr
 861 0608 7B01      		movw r14,r22
 862 060a 8C01      		movw r16,r24
 863 060c 80E0      		ldi r24,lo8(.LC29)
 864 060e 90E0      		ldi r25,hi8(.LC29)
 865 0610 0E94 0000 		call inet_addr
 866 0614 3B01      		movw r6,r22
 867 0616 4C01      		movw r8,r24
 868 0618 80E0      		ldi r24,lo8(.LC30)
 869 061a 90E0      		ldi r25,hi8(.LC30)
 870 061c 9F93      		push r25
 871 061e 8F93      		push r24
 872 0620 0E94 0000 		call printf
 873 0624 A601      		movw r20,r12
 874 0626 9501      		movw r18,r10
 875 0628 B101      		movw r22,r2
 876 062a C201      		movw r24,r4
 877 062c 0E94 0000 		call NutNetIfConfig
 878 0630 0F90      		pop __tmp_reg__
 879 0632 0F90      		pop __tmp_reg__
 880 0634 892B      		or r24,r25
 881 0636 01F0      		breq .L73
 882 0638 80E0      		ldi r24,lo8(.LC31)
 883 063a 90E0      		ldi r25,hi8(.LC31)
 884 063c 00C0      		rjmp .L81
 885               	.L73:
 886 063e 6114      		cp r6,__zero_reg__
 887 0640 7104      		cpc r7,__zero_reg__
 888 0642 8104      		cpc r8,__zero_reg__
 889 0644 9104      		cpc r9,__zero_reg__
 890 0646 01F0      		breq .L69
 891 0648 80E0      		ldi r24,lo8(.LC32)
 892 064a 90E0      		ldi r25,hi8(.LC32)
 893 064c 9F93      		push r25
 894 064e 8F93      		push r24
 895 0650 0E94 0000 		call printf
 896 0654 90E0      		ldi r25,lo8(devEth0)
 897 0656 C92E      		mov r12,r25
 898 0658 90E0      		ldi r25,hi8(devEth0)
 899 065a D92E      		mov r13,r25
 900 065c 8401      		movw r16,r8
 901 065e 7301      		movw r14,r6
 902 0660 20E0      		ldi r18,lo8(0)
 903 0662 30E0      		ldi r19,hi8(0)
 904 0664 40E0      		ldi r20,hlo8(0)
 905 0666 50E0      		ldi r21,hhi8(0)
 906 0668 60E0      		ldi r22,lo8(0)
 907 066a 70E0      		ldi r23,hi8(0)
 908 066c 80E0      		ldi r24,hlo8(0)
 909 066e 90E0      		ldi r25,hhi8(0)
 910 0670 0E94 0000 		call NutIpRouteAdd
 911 0674 0F90      		pop __tmp_reg__
 912 0676 0F90      		pop __tmp_reg__
 913 0678 892B      		or r24,r25
 914 067a 01F4      		brne .L69
 915 067c 80E0      		ldi r24,lo8(.LC33)
GAS LISTING C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s 			page 19


 916 067e 90E0      		ldi r25,hi8(.LC33)
 917               	.L81:
 918 0680 0E94 0000 		call puts
 919 0684 8FEF      		ldi r24,lo8(-1)
 920 0686 9FEF      		ldi r25,hi8(-1)
 921 0688 00C0      		rjmp .L75
 922               	.L69:
 923 068a 80E0      		ldi r24,lo8(.LC11)
 924 068c 90E0      		ldi r25,hi8(.LC11)
 925 068e 0E94 0000 		call puts
 926 0692 8091 0000 		lds r24,confnet+15
 927 0696 9927      		clr r25
 928 0698 9F93      		push r25
 929 069a 8F93      		push r24
 930 069c 8091 0000 		lds r24,confnet+14
 931 06a0 9927      		clr r25
 932 06a2 9F93      		push r25
 933 06a4 8F93      		push r24
 934 06a6 8091 0000 		lds r24,confnet+13
 935 06aa 9927      		clr r25
 936 06ac 9F93      		push r25
 937 06ae 8F93      		push r24
 938 06b0 8091 0000 		lds r24,confnet+12
 939 06b4 9927      		clr r25
 940 06b6 9F93      		push r25
 941 06b8 8F93      		push r24
 942 06ba 8091 0000 		lds r24,confnet+11
 943 06be 9927      		clr r25
 944 06c0 9F93      		push r25
 945 06c2 8F93      		push r24
 946 06c4 8091 0000 		lds r24,confnet+10
 947 06c8 9927      		clr r25
 948 06ca 9F93      		push r25
 949 06cc 8F93      		push r24
 950 06ce 80E0      		ldi r24,lo8(.LC34)
 951 06d0 90E0      		ldi r25,hi8(.LC34)
 952 06d2 9F93      		push r25
 953 06d4 8F93      		push r24
 954 06d6 0E94 0000 		call printf
 955 06da 6091 0000 		lds r22,confnet+16
 956 06de 7091 0000 		lds r23,(confnet+16)+1
 957 06e2 8091 0000 		lds r24,(confnet+16)+2
 958 06e6 9091 0000 		lds r25,(confnet+16)+3
 959 06ea 0E94 0000 		call inet_ntoa
 960 06ee 9F93      		push r25
 961 06f0 8F93      		push r24
 962 06f2 80E0      		ldi r24,lo8(.LC35)
 963 06f4 90E0      		ldi r25,hi8(.LC35)
 964 06f6 9F93      		push r25
 965 06f8 8F93      		push r24
 966 06fa 0E94 0000 		call printf
 967 06fe 6091 0000 		lds r22,confnet+20
 968 0702 7091 0000 		lds r23,(confnet+20)+1
 969 0706 8091 0000 		lds r24,(confnet+20)+2
 970 070a 9091 0000 		lds r25,(confnet+20)+3
 971 070e 0E94 0000 		call inet_ntoa
 972 0712 9F93      		push r25
GAS LISTING C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s 			page 20


 973 0714 8F93      		push r24
 974 0716 80E0      		ldi r24,lo8(.LC36)
 975 0718 90E0      		ldi r25,hi8(.LC36)
 976 071a 9F93      		push r25
 977 071c 8F93      		push r24
 978 071e 0E94 0000 		call printf
 979 0722 6091 0000 		lds r22,confnet+24
 980 0726 7091 0000 		lds r23,(confnet+24)+1
 981 072a 8091 0000 		lds r24,(confnet+24)+2
 982 072e 9091 0000 		lds r25,(confnet+24)+3
 983 0732 0E94 0000 		call inet_ntoa
 984 0736 9F93      		push r25
 985 0738 8F93      		push r24
 986 073a 80E0      		ldi r24,lo8(.LC37)
 987 073c 90E0      		ldi r25,hi8(.LC37)
 988 073e 9F93      		push r25
 989 0740 8F93      		push r24
 990 0742 0E94 0000 		call printf
 991 0746 80E0      		ldi r24,lo8(0)
 992 0748 90E0      		ldi r25,hi8(0)
 993 074a 2DB7      		in r18,__SP_L__
 994 074c 3EB7      		in r19,__SP_H__
 995 074e 265E      		subi r18,lo8(-(26))
 996 0750 3F4F      		sbci r19,hi8(-(26))
 997 0752 0FB6      		in __tmp_reg__,__SREG__
 998 0754 F894      		cli
 999 0756 3EBF      		out __SP_H__,r19
 1000 0758 0FBE      		out __SREG__,__tmp_reg__
 1001 075a 2DBF      		out __SP_L__,r18
 1002               	.L75:
 1003               	/* epilogue: frame size=6 */
 1004 075c 2696      		adiw r28,6
 1005 075e 0FB6      		in __tmp_reg__,__SREG__
 1006 0760 F894      		cli
 1007 0762 DEBF      		out __SP_H__,r29
 1008 0764 0FBE      		out __SREG__,__tmp_reg__
 1009 0766 CDBF      		out __SP_L__,r28
 1010 0768 DF91      		pop r29
 1011 076a CF91      		pop r28
 1012 076c 1F91      		pop r17
 1013 076e 0F91      		pop r16
 1014 0770 FF90      		pop r15
 1015 0772 EF90      		pop r14
 1016 0774 DF90      		pop r13
 1017 0776 CF90      		pop r12
 1018 0778 BF90      		pop r11
 1019 077a AF90      		pop r10
 1020 077c 9F90      		pop r9
 1021 077e 8F90      		pop r8
 1022 0780 7F90      		pop r7
 1023 0782 6F90      		pop r6
 1024 0784 5F90      		pop r5
 1025 0786 4F90      		pop r4
 1026 0788 3F90      		pop r3
 1027 078a 2F90      		pop r2
 1028 078c 0895      		ret
 1029               	/* epilogue end (size=25) */
GAS LISTING C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s 			page 21


 1030               	/* function ConfigureLan size 289 (238) */
 1031               		.size	ConfigureLan, .-ConfigureLan
 1032               		.data
 1033               	.LC38:
 1034 0292 3134 352E 		.string	"145.58.53.152"
 1034      3538 2E35 
 1034      332E 3135 
 1034      3200 
 1035               	.LC39:
 1036 02a0 7700      		.string	"w"
 1037               	.LC40:
 1038 02a2 7561 7274 		.string	"uart0"
 1038      3000 
 1039               	.LC41:
 1040 02a8 2575 2062 		.string	"%u bytes free\n\n"
 1040      7974 6573 
 1040      2066 7265 
 1040      650A 0A00 
 1041               	.LC42:
 1042 02b8 6574 6830 		.string	"eth0"
 1042      00
 1043               	.LC43:
 1044 02bd 4572 726F 		.string	"Error: Can't create socket"
 1044      723A 2043 
 1044      616E 2774 
 1044      2063 7265 
 1044      6174 6520 
 1045               	.LC44:
 1046 02d8 536F 636B 		.string	"Sockopt MSS failed"
 1046      6F70 7420 
 1046      4D53 5320 
 1046      6661 696C 
 1046      6564 00
 1047               	.LC45:
 1048 02eb 536F 636B 		.string	"Sockopt TO failed"
 1048      6F70 7420 
 1048      544F 2066 
 1048      6169 6C65 
 1048      6400 
 1049               	.LC46:
 1050 02fd 536F 636B 		.string	"Sockopt rxbuf failed"
 1050      6F70 7420 
 1050      7278 6275 
 1050      6620 6661 
 1050      696C 6564 
 1051               	.LC47:
 1052 0312 7465 7374 		.string	"testingstart"
 1052      696E 6773 
 1052      7461 7274 
 1052      00
 1053               	.LC48:
 1054 031f 5265 7365 		.string	"Reset me!"
 1054      7420 6D65 
 1054      2100 
 1055               		.text
 1056               	.global	startStream
 1057               		.type	startStream, @function
GAS LISTING C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s 			page 22


 1058               	startStream:
 1059               	/* prologue: frame size=16 */
 1060 078e EF92      		push r14
 1061 0790 FF92      		push r15
 1062 0792 0F93      		push r16
 1063 0794 1F93      		push r17
 1064 0796 CF93      		push r28
 1065 0798 DF93      		push r29
 1066 079a CDB7      		in r28,__SP_L__
 1067 079c DEB7      		in r29,__SP_H__
 1068 079e 6097      		sbiw r28,16
 1069 07a0 0FB6      		in __tmp_reg__,__SREG__
 1070 07a2 F894      		cli
 1071 07a4 DEBF      		out __SP_H__,r29
 1072 07a6 0FBE      		out __SREG__,__tmp_reg__
 1073 07a8 CDBF      		out __SP_L__,r28
 1074               	/* prologue end (size=14) */
 1075 07aa 1092 0000 		sts (stopAlarm)+1,__zero_reg__
 1076 07ae 1092 0000 		sts stopAlarm,__zero_reg__
 1077 07b2 80E0      		ldi r24,lo8(115200)
 1078 07b4 92EC      		ldi r25,hi8(115200)
 1079 07b6 A1E0      		ldi r26,hlo8(115200)
 1080 07b8 B0E0      		ldi r27,hhi8(115200)
 1081 07ba 8D87      		std Y+13,r24
 1082 07bc 9E87      		std Y+14,r25
 1083 07be AF87      		std Y+15,r26
 1084 07c0 B88B      		std Y+16,r27
 1085 07c2 80E0      		ldi r24,lo8(.LC38)
 1086 07c4 90E0      		ldi r25,hi8(.LC38)
 1087 07c6 0E94 0000 		call inet_addr
 1088 07ca 88E3      		ldi r24,lo8(8760)
 1089 07cc 92E2      		ldi r25,hi8(8760)
 1090 07ce 9A83      		std Y+2,r25
 1091 07d0 8983      		std Y+1,r24
 1092 07d2 88EB      		ldi r24,lo8(3000)
 1093 07d4 9BE0      		ldi r25,hi8(3000)
 1094 07d6 A0E0      		ldi r26,hlo8(3000)
 1095 07d8 B0E0      		ldi r27,hhi8(3000)
 1096 07da 8D83      		std Y+5,r24
 1097 07dc 9E83      		std Y+6,r25
 1098 07de AF83      		std Y+7,r26
 1099 07e0 B887      		std Y+8,r27
 1100 07e2 84EB      		ldi r24,lo8(1460)
 1101 07e4 95E0      		ldi r25,hi8(1460)
 1102 07e6 9C83      		std Y+4,r25
 1103 07e8 8B83      		std Y+3,r24
 1104 07ea 40E0      		ldi r20,lo8(0)
 1105 07ec 60E0      		ldi r22,lo8(0)
 1106 07ee 70E0      		ldi r23,hi8(0)
 1107 07f0 80E0      		ldi r24,lo8(devDebug0)
 1108 07f2 90E0      		ldi r25,hi8(devDebug0)
 1109 07f4 0E94 0000 		call NutRegisterDevice
 1110 07f8 4091 0000 		lds r20,__iob+2
 1111 07fc 5091 0000 		lds r21,(__iob+2)+1
 1112 0800 60E0      		ldi r22,lo8(.LC39)
 1113 0802 70E0      		ldi r23,hi8(.LC39)
 1114 0804 80E0      		ldi r24,lo8(.LC40)
GAS LISTING C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s 			page 23


 1115 0806 90E0      		ldi r25,hi8(.LC40)
 1116 0808 0E94 0000 		call freopen
 1117 080c 8091 0000 		lds r24,__iob+2
 1118 0810 9091 0000 		lds r25,(__iob+2)+1
 1119 0814 0E94 0000 		call _fileno
 1120 0818 AE01      		movw r20,r28
 1121 081a 435F      		subi r20,lo8(-(13))
 1122 081c 5F4F      		sbci r21,hi8(-(13))
 1123 081e 61E0      		ldi r22,lo8(257)
 1124 0820 71E0      		ldi r23,hi8(257)
 1125 0822 0E94 0000 		call _ioctl
 1126 0826 0E94 0000 		call NutHeapAvailable
 1127 082a 9F93      		push r25
 1128 082c 8F93      		push r24
 1129 082e 80E0      		ldi r24,lo8(.LC41)
 1130 0830 90E0      		ldi r25,hi8(.LC41)
 1131 0832 9F93      		push r25
 1132 0834 8F93      		push r24
 1133 0836 0E94 0000 		call printf
 1134 083a 80E0      		ldi r24,lo8(.LC42)
 1135 083c 90E0      		ldi r25,hi8(.LC42)
 1136 083e 0E94 0000 		call ConfigureLan
 1137 0842 0F90      		pop __tmp_reg__
 1138 0844 0F90      		pop __tmp_reg__
 1139 0846 0F90      		pop __tmp_reg__
 1140 0848 0F90      		pop __tmp_reg__
 1141 084a 892B      		or r24,r25
 1142 084c 01F0      		breq .L83
 1143               	.L98:
 1144 084e 00C0      		rjmp .L98
 1145               	.L83:
 1146 0850 0E94 0000 		call NutTcpCreateSocket
 1147 0854 7C01      		movw r14,r24
 1148 0856 0097      		sbiw r24,0
 1149 0858 01F4      		brne .L85
 1150 085a 80E0      		ldi r24,lo8(.LC43)
 1151 085c 90E0      		ldi r25,hi8(.LC43)
 1152 085e 0E94 0000 		call puts
 1153               	.L87:
 1154 0862 00C0      		rjmp .L87
 1155               	.L85:
 1156 0864 22E0      		ldi r18,lo8(2)
 1157 0866 30E0      		ldi r19,hi8(2)
 1158 0868 AE01      		movw r20,r28
 1159 086a 4D5F      		subi r20,lo8(-(3))
 1160 086c 5F4F      		sbci r21,hi8(-(3))
 1161 086e 62E0      		ldi r22,lo8(2)
 1162 0870 70E0      		ldi r23,hi8(2)
 1163 0872 0E94 0000 		call NutTcpSetSockOpt
 1164 0876 892B      		or r24,r25
 1165 0878 01F0      		breq .L88
 1166 087a 80E0      		ldi r24,lo8(.LC44)
 1167 087c 90E0      		ldi r25,hi8(.LC44)
 1168 087e 0E94 0000 		call puts
 1169               	.L88:
 1170 0882 24E0      		ldi r18,lo8(4)
 1171 0884 30E0      		ldi r19,hi8(4)
GAS LISTING C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s 			page 24


 1172 0886 AE01      		movw r20,r28
 1173 0888 4B5F      		subi r20,lo8(-(5))
 1174 088a 5F4F      		sbci r21,hi8(-(5))
 1175 088c 66E0      		ldi r22,lo8(4102)
 1176 088e 70E1      		ldi r23,hi8(4102)
 1177 0890 C701      		movw r24,r14
 1178 0892 0E94 0000 		call NutTcpSetSockOpt
 1179 0896 892B      		or r24,r25
 1180 0898 01F0      		breq .L90
 1181 089a 80E0      		ldi r24,lo8(.LC45)
 1182 089c 90E0      		ldi r25,hi8(.LC45)
 1183 089e 0E94 0000 		call puts
 1184               	.L90:
 1185 08a2 22E0      		ldi r18,lo8(2)
 1186 08a4 30E0      		ldi r19,hi8(2)
 1187 08a6 AE01      		movw r20,r28
 1188 08a8 4F5F      		subi r20,lo8(-(1))
 1189 08aa 5F4F      		sbci r21,hi8(-(1))
 1190 08ac 62E0      		ldi r22,lo8(4098)
 1191 08ae 70E1      		ldi r23,hi8(4098)
 1192 08b0 C701      		movw r24,r14
 1193 08b2 0E94 0000 		call NutTcpSetSockOpt
 1194 08b6 892B      		or r24,r25
 1195 08b8 01F0      		breq .L92
 1196 08ba 80E0      		ldi r24,lo8(.LC46)
 1197 08bc 90E0      		ldi r25,hi8(.LC46)
 1198 08be 0E94 0000 		call puts
 1199               	.L92:
 1200 08c2 80E0      		ldi r24,lo8(.LC38)
 1201 08c4 90E0      		ldi r25,hi8(.LC38)
 1202 08c6 0E94 0000 		call inet_addr
 1203 08ca AB01      		movw r20,r22
 1204 08cc BC01      		movw r22,r24
 1205 08ce 8E01      		movw r16,r28
 1206 08d0 075F      		subi r16,lo8(-(9))
 1207 08d2 1F4F      		sbci r17,hi8(-(9))
 1208 08d4 20E5      		ldi r18,lo8(80)
 1209 08d6 30E0      		ldi r19,hi8(80)
 1210 08d8 C701      		movw r24,r14
 1211 08da 0E94 0000 		call ConnectStation
 1212 08de 8C01      		movw r16,r24
 1213 08e0 892B      		or r24,r25
 1214 08e2 01F0      		breq .L94
 1215 08e4 80E0      		ldi r24,lo8(.LC47)
 1216 08e6 90E0      		ldi r25,hi8(.LC47)
 1217 08e8 0E94 0000 		call puts
 1218 08ec 4985      		ldd r20,Y+9
 1219 08ee 5A85      		ldd r21,Y+10
 1220 08f0 6B85      		ldd r22,Y+11
 1221 08f2 7C85      		ldd r23,Y+12
 1222 08f4 C801      		movw r24,r16
 1223 08f6 0E94 0000 		call PlayMp3Stream
 1224 08fa C801      		movw r24,r16
 1225 08fc 0E94 0000 		call fclose
 1226               	.L94:
 1227 0900 C701      		movw r24,r14
 1228 0902 0E94 0000 		call NutTcpCloseSocket
GAS LISTING C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s 			page 25


 1229 0906 0E94 0000 		call VsPlayerStop
 1230 090a 64EF      		ldi r22,lo8(500)
 1231 090c 71E0      		ldi r23,hi8(500)
 1232 090e 80E0      		ldi r24,hlo8(500)
 1233 0910 90E0      		ldi r25,hhi8(500)
 1234 0912 0E94 0000 		call NutSleep
 1235 0916 C801      		movw r24,r16
 1236 0918 0E94 0000 		call fclose
 1237 091c 80E0      		ldi r24,lo8(.LC48)
 1238 091e 90E0      		ldi r25,hi8(.LC48)
 1239 0920 0E94 0000 		call puts
 1240               	.L96:
 1241 0924 64E6      		ldi r22,lo8(100)
 1242 0926 70E0      		ldi r23,hi8(100)
 1243 0928 80E0      		ldi r24,hlo8(100)
 1244 092a 90E0      		ldi r25,hhi8(100)
 1245 092c 0E94 0000 		call NutSleep
 1246 0930 00C0      		rjmp .L96
 1247               	/* epilogue: frame size=16 */
 1248               	/* epilogue: noreturn */
 1249               	/* epilogue end (size=0) */
 1250               	/* function startStream size 210 (196) */
 1251               		.size	startStream, .-startStream
 1252               	.global	left
 1253               		.data
 1254               		.type	left, @object
 1255               		.size	left, 2
 1256               	left:
 1257 0329 0100      		.word	1
 1258               	.global	right
 1259               		.type	right, @object
 1260               		.size	right, 2
 1261               	right:
 1262 032b 0100      		.word	1
 1263               	.global	stopAlarm
 1264               	.global	stopAlarm
 1265               		.section .bss
 1266               		.type	stopAlarm, @object
 1267               		.size	stopAlarm, 2
 1268               	stopAlarm:
 1269 0000 0000      		.skip 2,0
 1270               		.lcomm last.3299,2
 1271               		.data
 1272               		.type	C.0.3237, @object
 1273               		.size	C.0.3237, 6
 1274               	C.0.3237:
 1275 032d 00        		.byte	0
 1276 032e 06        		.byte	6
 1277 032f 98        		.byte	-104
 1278 0330 10        		.byte	16
 1279 0331 01        		.byte	1
 1280 0332 10        		.byte	16
 1281               		.comm IMCconfig,3,1
 1282               	/* File "source/StreamWork.c": code 1186 = 0x04a2 (1011), prologues  95, epilogues  80 */
GAS LISTING C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s 			page 26


DEFINED SYMBOLS
                            *ABS*:00000000 StreamWork.c
C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s:3      *ABS*:0000003f __SREG__
C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s:4      *ABS*:0000003e __SP_H__
C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s:5      *ABS*:0000003d __SP_L__
C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s:6      *ABS*:00000000 __tmp_reg__
C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s:7      *ABS*:00000001 __zero_reg__
C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s:13     .text:00000000 stopStream
C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s:1268   .bss:00000000 stopAlarm
C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s:39     .text:0000000e ProcessMetaData
                             .bss:00000002 last.3299
C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s:224    .text:0000016c PlayMp3Stream
C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s:524    .text:00000388 ConnectStation
C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s:770    .text:0000054e ConfigureLan
C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s:1274   .data:0000032d C.0.3237
C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s:1058   .text:0000078e startStream
C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s:1256   .data:00000329 left
C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s:1261   .data:0000032b right
                            *COM*:00000003 IMCconfig

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
fread
printf
malloc
strtok_r
printString
setBackLight
free
NutSegBufInit
VsPlayerInit
VsPlayerReset
puts
VsPlayerInterrupts
NutSegBufReset
NutGetSeconds
NutSegBufWriteRequest
VsGetStatus
VsPlayerKick
NutSegBufWriteCommit
NutSegBufUsed
NutSleep
NutThreadYield
inet_ntoa
NutTcpConnect
NutTcpError
NutTcpCloseSocket
_fdopen
fprintf
fputs
fflush
strchr
strncmp
atol
fgets
putchar
GAS LISTING C:\Users\Arthur\AppData\Local\Temp\/cczIoXnh.s 			page 27


NutDhcpIfConfig
inet_addr
NutNetIfConfig
devEth0
NutIpRouteAdd
confnet
devDebug0
NutRegisterDevice
__iob
freopen
_fileno
_ioctl
NutHeapAvailable
NutTcpCreateSocket
NutTcpSetSockOpt
fclose
VsPlayerStop
